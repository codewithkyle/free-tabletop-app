function SetPlayerUID(uid){localStorage.setItem("PlayerUID",uid)}function GetPlayerUID(){return localStorage.getItem("PlayerUID")}function ClearStorage(){localStorage.clear(),localStorage.clear()}function CopyToClipboard(value){"clipboard"in navigator&&navigator.clipboard.writeText(value)}function ForceHome(){location.href=location.origin}function FocusElement(selector){const el=document.body.querySelector(selector);el&&el.focus()}function Debug(thing){}async function GetGridSize(url){let grid=[0,0];return url.length&&(grid=await new Promise((resolve=>{const tempImg=document.createElement("img");tempImg.src=url,tempImg.className="temp-image",tempImg.addEventListener("load",(()=>{const bounds=tempImg.getBoundingClientRect(),width=Math.floor(bounds.width/32),height=Math.floor(bounds.height/32);resolve([width,height])})),tempImg.addEventListener("error",(()=>{resolve([0,0])})),document.body.appendChild(tempImg)}))),grid}function ClearHighlightedCells(){const cells=Array.from(document.body.querySelectorAll("td.highlight"));for(let i=0;i<cells.length;i++)cells[i].className=""}function PlaySound(name){switch(name){case"alert.wav":if(!localStorage.getItem("alertDisabled")){var audio=new Audio(`${location.origin}/sfx/${name}`);audio.play()}break;case"loading.wav":if(!localStorage.getItem("loadingDisabled")){var audio=new Audio(`${location.origin}/sfx/${name}`);audio.play()}break;case"message.wav":if(!localStorage.getItem("notificationDisabled")){var audio=new Audio(`${location.origin}/sfx/${name}`);audio.play()}break;case"ping.mp3":if(!localStorage.getItem("pingDisabled")){var audio=new Audio(`${location.origin}/sfx/${name}`);audio.volume=.75,audio.play()}break;default:var audio=new Audio(`${location.origin}/sfx/${name}`);audio.play();break}}function Ping(x,y){if(!localStorage.getItem("pingDisabled")){var audio=new Audio(location.origin+"/sfx/ping.mp3");audio.volume=.75,audio.play()}const el=document.createElement("div");el.className="ping",el.style.cssText=`top:${y-24}px;left:${x-24}px;`,el.innerHTML='\n        <i>\n            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info" class="svg-inline--fa fa-info fa-w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg>\n        </i>\n    ',document.body.appendChild(el),setTimeout((()=>{el.remove()}),2e3)}function DragTabletop(){const tabletop=document.body.querySelector(".js-tabletop");if(tabletop){let pos={top:0,left:0,x:0,y:0},movingTabletop=!1;tabletop.addEventListener("mousedown",(e=>{0===e.button&&e.target instanceof HTMLTableCellElement&&(pos={left:tabletop.scrollLeft,top:tabletop.scrollTop,x:e.clientX,y:e.clientY},movingTabletop=!0)})),tabletop.addEventListener("touchstart",(e=>{e.target instanceof HTMLTableCellElement&&(pos={left:tabletop.scrollLeft,top:tabletop.scrollTop,x:e.touches[0].clientX,y:e.touches[0].clientY},movingTabletop=!0)})),document.addEventListener("mousemove",(e=>{if(movingTabletop){const dx=e.clientX-pos.x,dy=e.clientY-pos.y;tabletop.scrollTo({top:pos.top-dy,left:pos.left-dx,behavior:"auto"})}})),document.addEventListener("touchmove",(e=>{if(movingTabletop){const dx=e.touches[0].clientX-pos.x,dy=e.touches[0].clientY-pos.y;tabletop.scrollTo({top:pos.top-dy,left:pos.left-dx,behavior:"auto"})}})),document.addEventListener("mouseup",(e=>{movingTabletop=!1})),document.addEventListener("touchend",(e=>{movingTabletop=!1}))}}function ToggleSoundStatus(type,enabled){enabled?localStorage.removeItem(type+"Disabled"):localStorage.setItem(type+"Disabled","true")}function GetPingSoundSetting(){return!localStorage.getItem("pingDisabled")}function GetNotificationSoundSetting(){return!localStorage.getItem("notificationDisabled")}function GetAlertSoundSetting(){return!localStorage.getItem("alertDisabled")}function GetLoadingSoundSetting(){return!localStorage.getItem("loadingDisabled")}async function GetVersion(){const request=await fetch(location.origin+"/app.json",{headers:new Headers({Accept:"application/json"})});if(request.ok){const response=await request.json();return"v"+response.build}return"unknown"}function Reinstall(){var _a,_b;const sw=null!==(_b=null===(_a=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===_a?void 0:_a.controller)&&void 0!==_b?_b:null;sw&&(sw.postMessage({type:"reinstall"}),setTimeout((()=>{location.reload()}),300))}document.onkeydown=event=>{const key=event.key.toLowerCase();return"f5"===key||"r"===key&&(event.ctrlKey||event.metaKey)?(event.returnValue=!1,!1):void 0};let deferredInstallPrompt=null;function Install(){deferredInstallPrompt.prompt(),deferredInstallPrompt.userChoice.then((()=>{deferredInstallPrompt=null}))}window.addEventListener("beforeinstallprompt",(e=>{deferredInstallPrompt=e}));