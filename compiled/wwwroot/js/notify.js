class SnackbarComponent extends HTMLElement{constructor(t){super(),this.handleActionButtonClick=t=>{const e=t.currentTarget,s=parseInt(e.dataset.index);this.settings.buttons[s].callback()},this.handleCloseClickEvent=()=>{this.remove()},this.settings=t,this.render()}render(){this.dataset.uid=this.settings.uid;for(let t=0;t<this.settings.classes.length;t++)this.classList.add(this.settings.classes[t]);const t=document.createElement("p");if(t.innerText=this.settings.message,this.appendChild(t),this.settings.closeable||this.settings.buttons.length){const t=document.createElement("snackbar-actions");if(this.settings.buttons.length)for(let e=0;e<this.settings.buttons.length;e++){const s=document.createElement("button");s.innerText=this.settings.buttons[e].label,s.dataset.index=""+e;for(let t=0;t<this.settings.buttons[e].classes.length;t++)s.classList.add(this.settings.buttons[e].classes[t]);this.settings.buttons[e].ariaLabel&&s.setAttribute("aria-label",this.settings.buttons[e].ariaLabel),s.addEventListener("click",this.handleActionButtonClick),t.appendChild(s)}if(this.settings.closeable){const e=document.createElement("button");e.setAttribute("aria-label","close notification"),e.classList.add("close"),e.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',e.addEventListener("click",this.handleCloseClickEvent),t.appendChild(e)}this.appendChild(t)}}}class ToastComponent extends HTMLElement{constructor(t){super(),this.handleCloseClickEvent=()=>{this.remove()},this.settings=t,this.render()}render(){this.dataset.uid=this.settings.uid;for(let t=0;t<this.settings.classes.length;t++)this.classList.add(this.settings.classes[t]);if(this.settings.icon){const t=document.createElement("i");t.innerHTML=this.settings.icon,this.appendChild(t)}const t=document.createElement("copy-wrapper"),e=document.createElement("h3");e.innerText=this.settings.title,t.appendChild(e);const s=document.createElement("p");if(s.innerText=this.settings.message,t.appendChild(s),this.appendChild(t),this.settings.closeable){const t=document.createElement("button");t.setAttribute("aria-label","close notification"),t.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>',t.addEventListener("click",this.handleCloseClickEvent),this.appendChild(t)}}}class Notifier{constructor(){this.snackbarQueue=[],this.toaster=[],this.time=performance.now(),this.loop()}uid(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}loop(){var t,e,s,n;const i=performance.now(),l=(i-this.time)/1e3;if(this.time=i,document.hasFocus()){for(let s=this.toaster.length-1;s>=0;s--)(null===(t=this.toaster[s])||void 0===t?void 0:t.duration)&&Infinity!==(null===(e=this.toaster[s])||void 0===e?void 0:e.duration)&&(this.toaster[s].duration-=l,this.toaster[s].duration<=0&&(this.toaster[s].el.remove(),this.toaster.splice(s,1)));this.snackbarQueue.length&&(this.snackbarQueue[0].el||(this.snackbarQueue[0].el=new SnackbarComponent(this.snackbarQueue[0]),document.body.appendChild(this.snackbarQueue[0].el)),(null===(s=this.snackbarQueue[0])||void 0===s?void 0:s.duration)&&Infinity!==(null===(n=this.snackbarQueue[0])||void 0===n?void 0:n.duration)&&(this.snackbarQueue[0].duration-=l,this.snackbarQueue[0].duration<=0&&(this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1))))}window.requestAnimationFrame(this.loop.bind(this))}snackbar(t){var e,s,n,i,l,o,a;const r={};if(!(null==t?void 0:t.message)||0===(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.length))return;r.message=t.message,r.uid=this.uid(),r.el=null;let c=[];(null==t?void 0:t.classes)&&(c=Array.isArray(t.classes)?t.classes:[t.classes]),r.classes=c,"number"==typeof(null==t?void 0:t.duration)||Infinity===(null==t?void 0:t.duration)?r.duration=t.duration:r.duration=3,void 0!==(null==t?void 0:t.closeable)&&"boolean"==typeof(null==t?void 0:t.closeable)?r.closeable=null==t?void 0:t.closeable:r.closeable=!0,void 0!==(null==t?void 0:t.force)&&"boolean"==typeof(null==t?void 0:t.force)?r.force=null==t?void 0:t.force:r.force=!1;let u=[];(null==t?void 0:t.buttons)&&(u=Array.isArray(t.buttons)?t.buttons:[t.buttons]),r.buttons=u;for(let t=0;t<r.buttons.length;t++)(null===(s=r.buttons[t])||void 0===s?void 0:s.classes)&&!Array.isArray(null===(n=r.buttons[t])||void 0===n?void 0:n.classes)&&(r.buttons[t].classes=[r.buttons[t].classes]),(null===(i=r.buttons[t])||void 0===i?void 0:i.ariaLabel)||(r.buttons[t].ariaLabel=null),(null===(l=r.buttons[t])||void 0===l?void 0:l.label)&&0!==(null===(o=r.buttons[t])||void 0===o?void 0:o.label.length)||(r.buttons[t].label="Missing label"),(null===(a=r.buttons[t])||void 0===a?void 0:a.callback)||(r.buttons[t].callback=()=>{});r.force&&this.snackbarQueue.length?(this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1,r)):this.snackbarQueue.push(r)}toast(t){var e,s;const n={};if(!(null==t?void 0:t.message)||0===(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.length))return;if(!(null==t?void 0:t.title)||0===(null===(s=null==t?void 0:t.title)||void 0===s?void 0:s.length))return;n.title=t.title,n.message=t.message,n.uid=this.uid();let i=[];(null==t?void 0:t.classes)&&(i=Array.isArray(t.classes)?t.classes:[t.classes]),n.classes=i,"number"==typeof(null==t?void 0:t.duration)||Infinity===(null==t?void 0:t.duration)?n.duration=t.duration:n.duration=3,void 0!==(null==t?void 0:t.closeable)&&"boolean"==typeof(null==t?void 0:t.closeable)?n.closeable=t.closeable:n.closeable=!0,(null==t?void 0:t.icon)&&"string"==typeof(null==t?void 0:t.icon)?n.icon=t.icon:n.icon=null,n.el=new ToastComponent(n),this.toaster.push(n);let l=document.body.querySelector("toaster-component")||null;l||(l=document.createElement("toaster-component"),document.body.appendChild(l));const o=l.querySelector("toast-component")||null;o?l.insertBefore(n.el,o):l.appendChild(n.el)}}const t=new Notifier,e=t.snackbar.bind(t),s=t.toast.bind(t);customElements.define("snackbar-component",SnackbarComponent),customElements.define("toast-component",ToastComponent);